<!DOCTYPE html>
<html lang="zh-tw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="img/LOGO.ico">
    <link rel="stylesheet" href="./styles/portfolio.css?v=1.2">
    <title>Gururidea</title>
</head>
<style>
    
</style>
<body>
    <header>
       <nav>
            <a href="index.html" class="nav_logo"> <img src="./img/LOGO.jpg" alt="Guru_Logo"></a>
            <ul>
                <li><a href="index.html">About us</a></li>
                <li><a href="portfolio.html">portfolio</a></li>
            </ul>
            <div class="hamburger" onclick="toggleMenu()"> 
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </nav>
        <div class="banner">
            <div class="banner_img">
                <img src="./img/Portfolio_banner_工作區域 1.svg" alt="">
            </div>
        </div>
    </header>
    <main>
        <section class="works container">
            <div class="work-labels">
                <button onclick="update_works_display('平面設計')">平面設計</button>
                <button onclick="update_works_display('網站建置')">網站建置</button>
                <button onclick="update_works_display('系統建置')">系統建置</button>
                <button onclick="update_works_display('簡易遊戲')">簡易遊戲</button>
            </div>

            <div class="work-cards">
                <!--<a> 
                <div class="card">
                    <img src="./img/GL_case.png" alt="case">
                    <div class="info">
                        <h2>作品名稱</h2>
                        <div class="tools">
                            <div class="tool">
                                <img src="./img/figma.svg" alt="">
                                <span>Figma</span>
                            </div>
                            <div class="tool">
                                <img src="./img/figma.svg" alt="">
                                <span>Figma</span>
                            </div>
                        </div>
                        <div class="work-type-tag">平面設計</div>
                    </div>
                    <div class="author">製作夥伴</div>
                </div> </a>-->
            </div>

        </section>
    </main>

    <footer>
        <div class="container footer_contain">
            <img src="./img/LOGO.jpg" alt="">
            <div class="social_media">
                <a href="https://line.me/ti/p/RXjiJqA0Jk"><img src="./img/LINE2.png" alt=""></a>
            </div>
        </div>
        <small>Copyright © 2025 網站名稱 | DY工作室製作</small>
    </footer>
</body>
<script>
    /**
     * 切換導航列表和漢堡圖標的 active 狀態
     */
    function toggleMenu() {
        // 1. 取得需要切換 class 的元素
        const navUl = document.querySelector('nav ul'); // 導航列表 (<ul>)
        const hamburger = document.querySelector('.hamburger'); // 漢堡圖標 (<div>)
        
        // 2. 切換 .active 類
        
        // a. 導航列表：控制滑出/滑入
        if (navUl) {
            navUl.classList.toggle('active'); 
        }

        // b. 漢堡圖標：控制變成叉叉/復原
        if (hamburger) {
            hamburger.classList.toggle('active');
        }
    }

const works = {
    "平面設計": [
        {
            work_link:'https://cherish.tw/work/meet-for-breakfast',
            title: '早點見面-菜單設計',
            imageSrc: './img/works_img/early_menu_case.png',
            tools: ['figma'],
            authorName: '千煦設計'
        },
        {
            work_link:'https://cherish.tw/work/namecard-consultant',
            title: '向洋數位顧問-名片設計',
            imageSrc: './img/works_img/sianyang_card_case.png',
            tools: ['figma'],
            authorName: '千煦設計'
        },
        {
            work_link:'https://cherish.tw/work/chiaochiang',
            title: '巧將室內設計-室內設計',
            imageSrc: './img/works_img/chiao_inner_case.png',
            tools: ['figma'],
            authorName: '千煦設計'
        },
    ],
    "網站建置": [
        {
            work_link:'https://biocommander.com/',
            title: '世翔國際股份有限公司',
            imageSrc: './img/works_img/Bio_case.png',
            tools: ['HTML', 'CSS'],
            authorName: 'guruidea'
        },
        {
            work_link:'https://yamahasuma.com.tw',
            title: '潤音樂器',
            imageSrc: './img/works_img/YAMAHA_music_case.png',
            tools: ['HTML', 'CSS'],
            authorName: 'guruidea'
        },
        {
            work_link:'https://longlin.com.tw/',
            title: '龍霖建案',
            imageSrc: './img/works_img/LONGLIN_case.png',
            tools: ['HTML', 'CSS'],
            authorName: 'guruidea'
        },
        {
            work_link:'https://soontanger.com.tw/divination/',
            title: '順天閣-開運命理館',
            imageSrc: './img/works_img/Swun_case.png',
            tools: ['HTML', 'CSS'],
            authorName: 'guruidea'
        },
    ],
    "系統建置": [
        {
            work_link:'https://www.nicecode.me/demo.html',
            title: '音樂教室預約系統',
            imageSrc: './img/works_img/music_classroom_case.png',
            tools: ['PHP'],
            authorName: '好扣資訊'
        },
        {
            work_link:'https://demo1.ncsds.com/erp/login',
            title: '客製ERP系統',
            imageSrc: './img/works_img/erp_case.png',
            tools: ['PHP'],
            authorName: '好扣資訊'
        },
    ],
    "簡易遊戲": [
        {
            work_link:'https://drive.google.com/file/d/101f3wNoTye5ei8wJJ5eBIJuAc8vxzcTy/view',
            title: 'bisness_Duck',
            imageSrc: './img/works_img/BussinessDuck_case.png',
            tools: ['Unreal Engine'],
            authorName: 'DY工作室'
        },
        {
            work_link:'https://drive.google.com/file/d/1ly6E0uQylYfwn8EWLLd8H4_4ARhHuIZ4/view',
            title: '小農餓了',
            imageSrc: './img/works_img/farmer_case.png',
            tools: ['Unreal Engine'],
            authorName: 'DY工作室'
        },
    ],
}

const workCards = document.querySelector('.work-cards')

/**
 * 創建一個作品卡片元素，並在其中包含一個 View Case 按鈕。
 * @param {string} workLink - View Case 按鈕的 href 連結。
 * @param {string} title - 作品標題。
 * @param {string} imageSrc - 圖片來源。
 * @param {string[]} toolsArray - 使用工具的字串陣列。
 * @param {string} workType - 作品類型標籤。
 * @param {string} authorName - 作者名稱。
 * @returns {DocumentFragment}
 */
function gen_work_card(workLink, title, imageSrc, toolsArray, workType, authorName) {
    const fragment = document.createDocumentFragment();

    // 建立 card 容器 (現在是頂層容器)
    const card = document.createElement("div");
    card.className = "card";
    // 移除 work_link_a 的相關程式碼

    // 建立圖片
    const img = document.createElement("img");
    img.src = imageSrc;
    img.alt = title;
    card.appendChild(img);

    // info 區塊
    const info = document.createElement("div");
    info.className = "info";
    card.appendChild(info); // 將 info 加入 card

    // h2 標題
    const h2 = document.createElement("h2");
    h2.textContent = title;
    info.appendChild(h2);

    // tools 區塊
    const tools = document.createElement("div");
    tools.className = "tools";

    // 根據字串陣列生成工具
    toolsArray.forEach(toolName => {
        const tool = document.createElement("div");
        tool.className = "tool";

        const toolImg = document.createElement("img");
        // 這裡假設工具圖示檔名就是工具名稱的小寫，例如 figma.svg
        toolImg.src = `./img/${toolName.toLowerCase()}.svg`;
        toolImg.alt = toolName;

        const toolSpan = document.createElement("span");
        toolSpan.textContent = toolName;

        tool.append(toolImg, toolSpan);
        tools.appendChild(tool);
    });

    info.appendChild(tools);
    
    // ⭐ 新增：生成 View Case 按鈕 (<a> 標籤)
    const viewButton = document.createElement("a");
    viewButton.href = workLink; // 使用第一個參數作為連結
    viewButton.className = "view-case-btn";
    viewButton.textContent = "View Case"; // 可根據需求修改按鈕文字
    info.appendChild(viewButton);
    // ⭐ 新增結束

    // work-type-tag
    const workTypeTag = document.createElement("div");
    workTypeTag.className = "work-type-tag";
    workTypeTag.textContent = workType;
    info.appendChild(workTypeTag);

    // author
    const author = document.createElement("div");
    author.className = "author";
    author.textContent = authorName;
    card.appendChild(author); // 保持 author 在 info 外面，作為 card 的直接子元素

    // 修正：將 card 加入到 fragment
    fragment.appendChild(card); 

    return fragment;
}

/**
 * 根據作品類型更新作品列表顯示。
 * @param {string} workType - 要顯示的作品類型。
 */
function update_works_display( workType ) {
    workCards?.replaceChildren();
    // 假設 works 是一個全局變數，包含不同 workType 的作品數據。
    if (!works || !works[workType]) return; 

    for(const work of works[workType]) {
        // 傳遞的參數順序與 gen_work_card 函數定義的順序一致
        const card = gen_work_card(
            work.work_link,   // 1. workLink (給 View Case 按鈕使用)
            work.title,       // 2. title
            work.imageSrc,    // 3. imageSrc
            work.tools,       // 4. toolsArray
            workType,         // 5. workType
            work.authorName   // 6. authorName
        )
        workCards.appendChild(card)
    }
}

// 示例：更新顯示
update_works_display("平面設計")
</script>
</html>